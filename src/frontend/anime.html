<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnimeStream - Détails</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles/anime.css">

    <!-- Plyr CSS -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
</head>
<body>
    <div class="header">
        <div class="logo" onclick="goHome()">AnimeStream</div>
        <button class="back-btn" onclick="goHome()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Retour
        </button>
    </div>

    <div class="main-container">
        <div id="animeContent">
            <div class="loading">
                <div class="loading-spinner"></div>
                <div>Chargement des informations de l'anime...</div>
            </div>
        </div>
    </div>

    <!-- Player vidéo -->
    <div class="video-player-modal" id="videoPlayerModal">
        <div class="video-player-container">
            <div class="video-player-header">
                <div class="video-player-title">
                    <span id="playerEpisodeTitle">Épisode 1</span>
                    <span class="video-player-anime" id="playerAnimeTitle">Anime Title</span>
                </div>
                <button class="video-player-close" onclick="closeVideoPlayer()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="video-player-wrapper">
                <video id="videoPlayer" class="plyr-video" preload="metadata" playsinline>
                    <source id="videoSource" src="" type="video/mp4">
                    Votre navigateur ne supporte pas la lecture vidéo HTML5.
                </video>
            </div>
            
            <!-- Navigation épisodes -->
            <div class="episode-navigation">
                <button class="nav-btn nav-prev" id="prevEpisodeBtn" onclick="navigateEpisode(-1)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Précédent
                </button>
                <button class="nav-btn nav-next" id="nextEpisodeBtn" onclick="navigateEpisode(1)">
                    Suivant
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Module JavaScript principal -->
    <script type="module" src="js/anime-app.js"></script>
    
    <!-- Plyr JS -->
    <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
    <!-- HLS.js pour le support des flux HLS (m3u8) -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</body>
</html>
